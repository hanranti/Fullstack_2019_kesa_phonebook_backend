(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,n,t){e.exports=t(38)},20:function(e,n,t){},38:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(13),o=t.n(c),u=(t(20),t(2)),l=function(e){var n=e.deletePerson,t=e.person;return r.a.createElement("button",{onClick:function(){return n({deletedPerson:t})}},"delete")},i=function(e){var n=e.deletePerson,t=e.person;return r.a.createElement("li",null,t.name," ",t.number," ",r.a.createElement(l,{deletePerson:n,person:t}))},d=function(e){return r.a.createElement("div",null,r.a.createElement("h2",null,"Numbers"),r.a.createElement("div",null,r.a.createElement("ul",null,e.persons.filter(function(n){return n.name.toUpperCase().includes(e.filterName.toUpperCase())}).map(function(n){return r.a.createElement(i,{deletePerson:e.deletePerson,key:n.id,person:n})}))))},m=function(e){return r.a.createElement("div",null,"filter shown with:",r.a.createElement("input",{value:e.filterName,onChange:e.handleFilterNameChange}))},s=function(e){return r.a.createElement("form",{onSubmit:e.addOrEditPerson},r.a.createElement("h2",null,"add a new"),r.a.createElement("div",null,"name:",r.a.createElement("input",{value:e.newName,onChange:e.handleNameChange})),r.a.createElement("div",null,"phonenumber:",r.a.createElement("input",{value:e.newNumber,onChange:e.handleNumberChange})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add")))},f=function(e){var n=e.notificationMessage,t=e.className;return r.a.createElement("div",{className:"notification "+t},r.a.createElement("h3",null,n))},h=t(3),w=t.n(h),b="/api/persons",E=function(){return w.a.get(b).then(function(e){return e.data})},p=function(e){return w.a.post(b,e).then(function(e){return e.data})},v=function(e){return w.a.delete("".concat(b,"/").concat(e)).then(function(e){return e.data})},g=function(e,n){return w.a.put("".concat(b,"/").concat(n),e).then(function(e){return e.data})},N=function(){var e=Object(a.useState)([]),n=Object(u.a)(e,2),t=n[0],c=n[1],o=Object(a.useState)(""),l=Object(u.a)(o,2),i=l[0],h=l[1],w=Object(a.useState)(""),b=Object(u.a)(w,2),N=b[0],O=b[1],C=Object(a.useState)(""),j=Object(u.a)(C,2),P=j[0],S=j[1],k=Object(a.useState)(""),y=Object(u.a)(k,2),D=y[0],B=y[1],F=Object(a.useState)(""),J=Object(u.a)(F,2),M=J[0],T=J[1];Object(a.useEffect)(function(){E().then(function(e){console.log(e),c(t.concat(e))}).catch(function(e){x("Something went wrong!","error"),console.log(e)})},[]);var U=function(e,n){return p({name:e,number:n}).then(function(n){c(t.concat(n)),h(""),O(""),x("Added ".concat(e,"!"),"success")}).catch(function(e){return x("Something went wrong!","error")})},W=function(e,n,a){return window.confirm("".concat(e," is already added to the phonebook, replace the old number with a new one?"))?g({name:e,number:n},a.id).then(function(e){return c(t.map(function(n){return n.id!==a.id?n:e}))}).then(function(n){return x("Edited number of ".concat(e),"success")}).catch(function(n){E().then(function(e){c(e)}).catch(function(e){return x("Something went wrong!",n)}),x("Person named ".concat(e," was removed from server recently!"),n)}):x("Cancelled editing ".concat(e,"!"),"neutral")},x=function(e,n){B(e),T(n),setTimeout(function(){B(""),T("")},1e4)};return r.a.createElement("div",null,""!==D?r.a.createElement(f,{notificationMessage:D,className:M}):r.a.createElement("div",null),r.a.createElement("h2",null,"Phonebook"),r.a.createElement(m,{filterName:P,handleFilterNameChange:function(e){S(e.target.value)}}),r.a.createElement(s,{addOrEditPerson:function(e){e.preventDefault();var n=t.filter(function(e){return e.name===i})[0];switch(n){case void 0:U(i,N);break;default:W(i,N,n)}},newName:i,handleNameChange:function(e){h(e.target.value)},newNumber:N,handleNumberChange:function(e){O(e.target.value)}}),r.a.createElement(d,{persons:t,filterName:P,deletePerson:function(e){var n=e.deletedPerson;window.confirm("Delete ".concat(n.name))?v(n.id).then(function(e){return c(t.filter(function(e){return e.id!==n.id}))}).then(x("Deleted ".concat(n.name,"!"),"success")).catch(function(e){return x("That person was already deleted!","error")}):x("Cancelled deleting ".concat(n.name,"!"),"neutral")}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[14,1,2]]]);
//# sourceMappingURL=main.0bfda76c.chunk.js.map